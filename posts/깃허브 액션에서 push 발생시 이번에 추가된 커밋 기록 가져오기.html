<html>
  <head>
    <!-- ì‚¬ì´íŠ¸ ì œëª© -->
    <title>icehongssii</title>
    <!-- ì‚¬ì´íŠ¸ favicon -->
    <link
      rel="icon"
      href="/static/assets/icepersimmon.png"
      type="image/x-icon"
    />
    <meta charset="utf-8" />
    <!-- ì½”ë“œí•˜ì´ë¼ì´í„° -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dockerfile.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/shell.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <!-- ì‚¬ì´íŠ¸ ë©”íƒ€ë°ì´í„°-->
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta name="description" content="MOM, I am gonna rock" />
    <meta property="og:description" content="MOM, I am gonna rock" />
    <meta name="author" content="" />
    <!-- cssíŒŒì¼-->
    <link rel="stylesheet" type="text/css" href="/static/style.css" />
    <!-- RSSí”¼ë“œ-->
    <link
      rel="alternate"
      type="application/rss+xml"
      title="icehongssii"
      href="/feed.xml"
    />
  </head>

  <body>
    <div id="MathJax_Message" style="display: none"></div>
    <header>
      <!--ì‚¬ì´íŠ¸ ë©”íƒ€ë°ì´í„°-->
      <div class="container">
        <div class="site-info">
          <a href="/" class="site-title">icehongssii</a>
          <p class="site-description">MOM, I am gonna rock</p>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ì‚¬ì´íŠ¸ë©”íƒ€-->

        <!--í—¤ë”-->
        <div class="grower"></div>
        <!--ë„¤ì´ê²Œì´ì…˜ë°” 3ê°œ-->
        <nav class="site-nav">
          <a href="/career"><img src="/static/assets/sun.svg" /></a>
          <p>ABOUT</p>
        </nav>
        <nav class="site-nav">
          <a href="/posts"><img src="/static/assets/monster.svg" /></a>
          <p>POSTS</p>
        </nav>
        <nav class="site-nav">
          <a href="/tags"><img src="/static/assets/cloud.svg" /></a>
          <p>TAGS</p>
        </nav>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë„¤ì´ê²Œì´ì…˜ë°”3ê°œ-->
      </div>
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---í—¤ë”-->
    </header>

    <!--ìµœìƒë‹¨ container-->
    <div id="main" role="main" class="container">
      <!--ë³¸ë¬¸article-->
      <article class="post-page">
        <h1 class="title">ê°œë°œë°°í¬ì‹œ pushëœ ì»¤ë°‹ ê¸°ë¡ ê°€ì ¸ì˜¤ê¸°ê¸°</h1>
        <!--ìˆ˜ì •ë‚ ì§œ-->
        <div class="date">
          <strong
            >ë§ˆì§€ë§‰ìˆ˜ì • 2024-11-24 20:53:10 - ìµœì´ˆì‘ì„±2024-11-24 20:53
          </strong>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ìˆ˜ì •ë‚ ì§œ-->

        <!--ë©”íƒ€ë°ì´í„°-->
        <div class="meta-information">
          <table>
            <tr>
              <td><strong>íƒœê·¸</strong></td>
              <td>
                
                <a href="/tags#githubaction"><span>githubaction</span></a>
                
                <a href="/tags#ci/cd"><span>ci/cd</span></a>
                
              </td>
            </tr>
            <tr>
              <td><strong>tl;dr</strong></td>
              <td></td>
            </tr>
          </table>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë©”íƒ€ë°ì´í„°-->

        <!--ë§ˆí¬ë‹¤ìš´ë³€í™˜ëœë‚´ìš© ë³¸ë¬¸-->
        <div class="entry"><h2>ğŸ‘¯â€â™‚ï¸ ê°œìš”  ë° ê²°ë¡ </h2>

<pre><code class="yaml language-yaml">name: deploy
run-name: ${{ github.actor }} is ë””í”Œë¡œì´ì¤‘ì…ë‹ˆë‹¤.. ğŸµ
on:
  push:
    branches: [dev3]

permissions:
  contents: read
  actions: read

jobs:
  notification:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: ğŸ“„ Print Commit Messages
        id: process_commits
        run: |
          echo '${{ toJSON(github.event.commits.*.message) }}' &gt; commit_messages.json
          if [ -s commit_messages.json ](/posts/ -s commit_messages.json ) &amp;&amp; [ $(jq -r 'length' commit_messages.json) -gt 0 ](/posts/ $(jq -r 'length' commit_messages.json) -gt 0 ); then
              COMMIT_MESSAGES=$(jq -r '.[]' commit_messages.json | awk '/Merge pull request/ {getline; while($0==""){getline} if($0~/^\[REDMINE/) print "- "$0 }')
            else
              COMMIT_MESSAGES=""
            fi 
          echo "commit_msg&lt;&lt;EOF" &gt;&gt; $GITHUB_OUTPUT
          echo "$COMMIT_MESSAGES" &gt;&gt; $GITHUB_OUTPUT
          echo "EOF" &gt;&gt; $GITHUB_OUTPUT
          echo "ğŸ–¨ï¸ Recently added features at Dev BranchğŸ–¨ï¸"
          echo "$COMMIT_MESSAGES"
      - name: Notification VIVA Developers
        uses: 8398a7/action-slack@v3
        with:
          status: custom
          fields: workflow,job,commit,repo,ref,author,took
          custom_payload: |
            {
              attachments: [{
                color: '${{ env.workflow_status }}' === 'success' ? 'good' : '${{ env.workflow_status }}' === 'failure' ? 'danger' : 'warning',
                text: `${process.env.AS_WORKFLOW}\n${process.env.AS_JOB} (${process.env.AS_COMMIT}) of ${process.env.AS_REPO}@${process.env.AS_REF} by ${process.env.AS_AUTHOR} ${{ env.workflow_status }} in ${process.env.AS_TOOK}\n ì´ë²ˆì— ë°°í¬ ëœ ê¸°ëŠ¥&amp;** \n${{ steps.process_commits.outputs.commit_msg  }}`,
              }]
            }
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_INTEGRATION_CHANNEL}}
        if: always()

</code></pre>

<h2>ğŸ‘¯â€â™‚ï¸ í¬ì¸íŠ¸</h2>

<ul>
<li>ë‹¤ìŒ stepì—ì„œë„ ì“°ì¼ ìˆ˜ ìˆëŠ” ë³€ìˆ˜ ì„ ì–¸í•˜ë ¤ë©´? <code>echo "test_result=success" &gt;&gt; $GITHUB_OUTPUT</code> ==$GITHUB_OUTPUTì— ë³€ìˆ˜í• ë‹¹==
<ul>
<li>ë‹¤ìŒ ìŠ¤í…ì—ì„œ ì¬í™œìš© í• ë•Œì—ëŠ” <code>{{steps.í•´ë‹¹ ìŠ¤í… id.outputs.ë³€ìˆ˜ëª…}}</code></li>
</ul></li>
<li>ì‰˜ì—ì„œ <code>&gt;</code> ëŠ” overwrite(ì´ì „ê¸°ë¡ì‚­ì œ), &gt;&gt;ëŠ” append(ë§ë¶™ì´ê¸°)</li>
<li>push ì´ë²¤íŠ¸ì—ì„œ ë°œìƒí•œ ì»¤ë°‹ë©”ì„¸ì§€ë“¤ì„ ê°€ì ¸ì˜¤ë ¤ë©´ <code>${{github.event.commits.*.message}}</code></li>
<li>ì»¤ë°‹ë©”ì„¸ì§€ë¥¼ JSONí˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ë ¤ë©´ <code>${{ toJSON(github.event.commits.*.message)}}</code></li>
<li>ì‰˜ì—ì„œ ë³€ìˆ˜ë¥¼ ì¶œë ¥í•˜ë ¤ë©´ ìŒë”°ì˜´í‘œë¥¼ ë¶™ì—¬ì¤˜ì•¼ stringìœ¼ë¡œ ì¸ì‹í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ commandë¡œ ì¸ì‹í•´ command not foundì—ëŸ¬ ëœ¸</li>
<li>JSON íŒŒì‹±í•˜ê¸° <code>jq -r '.[]' commit_message</code></li>
<li>íŒŒì¼ í•„í„°ë§ <code>awk '/Merge pull request/ {getline; if($(0)==""){getline} if($0~/^[REDMINE]/) $0 }'</code></li>
</ul>

<h2>ğŸ‘¯â€â™‚ï¸ Ref &amp; LINKS TO THIS PAGE</h2>

<ul>
<li><a href="/posts/jq ëª…ë ¹ì–´ ë¦¬ëˆ…ìŠ¤ ">jq ëª…ë ¹ì–´ ë¦¬ëˆ…ìŠ¤ </a></li>
<li><a href="/posts/ëª…ë ¹ì–´ awk">ëª…ë ¹ì–´ awk</a></li>
</ul>
</div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ë§ˆí¬ë‹¤ìš´ë³€í™˜ëœë‚´ìš© ë³¸ë¬¸-->

        <!--ëŒ“ê¸€-->
        <hr />
        <div>
          <script
            src="https://utteranc.es/client.js"
            repo="icehongssii/icehongssii.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async
          ></script>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ëŒ“ê¸€-->

        <!--í™ì”¨ë°”ë‹¥-->
        <div>
          <center>
            <img src="/static/assets/icepersimmon.png" class="my-icon" />
          </center>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---í™ì”¨ë°”ë‹¥-->
      </article>
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë³¸ë¬¸article-->
    </div>
    <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ìµœìƒë‹¨ container-->

    <footer>
      <div class="container">
        <p><a href="mailto:icehongssii@gmail.com">icehongssii@gmail.com</a></p>
        <p><a href="https://github.com/icehongssii">GitHub @icehongssii</a></p>
      </div>
    </footer>
    <!-- Google Analytics -->
    <!-- End Google Analytics -->
  </body>
</html>