<html>
  <head>
    <!-- ì‚¬ì´íŠ¸ ì œëª© -->
    <title>icehongssii</title>
    <!-- ì‚¬ì´íŠ¸ favicon -->
    <link
      rel="icon"
      href="/static/assets/icepersimmon.png"
      type="image/x-icon"
    />
    <meta charset="utf-8" />
    <!-- ì½”ë“œí•˜ì´ë¼ì´í„° -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dockerfile.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/shell.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <!-- ì‚¬ì´íŠ¸ ë©”íƒ€ë°ì´í„°-->
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta name="description" content="MOM, I am gonna rock" />
    <meta property="og:description" content="MOM, I am gonna rock" />
    <meta name="author" content="" />
    <!-- cssíŒŒì¼-->
    <link rel="stylesheet" type="text/css" href="/static/style.css" />
    <!-- RSSí”¼ë“œ-->
    <link
      rel="alternate"
      type="application/rss+xml"
      title="icehongssii"
      href="/feed.xml"
    />
  </head>

  <body>
    <div id="MathJax_Message" style="display: none"></div>
    <header>
      <!--ì‚¬ì´íŠ¸ ë©”íƒ€ë°ì´í„°-->
      <div class="container">
        <div class="site-info">
          <a href="/" class="site-title">icehongssii</a>
          <p class="site-description">MOM, I am gonna rock</p>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ì‚¬ì´íŠ¸ë©”íƒ€-->

        <!--í—¤ë”-->
        <div class="grower"></div>
        <!--ë„¤ì´ê²Œì´ì…˜ë°” 3ê°œ-->
        <nav class="site-nav">
          <a href="/career"><img src="/static/assets/sun.svg" /></a>
          <p>ABOUT</p>
        </nav>
        <nav class="site-nav">
          <a href="/posts"><img src="/static/assets/monster.svg" /></a>
          <p>POSTS</p>
        </nav>
        <nav class="site-nav">
          <a href="/tags"><img src="/static/assets/cloud.svg" /></a>
          <p>TAGS</p>
        </nav>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë„¤ì´ê²Œì´ì…˜ë°”3ê°œ-->
      </div>
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---í—¤ë”-->
    </header>

    <!--ìµœìƒë‹¨ container-->
    <div id="main" role="main" class="container">
      <!--ë³¸ë¬¸article-->
      <article class="post-page">
        <h1 class="title">aws+ë§ˆì¸í¬ë˜í”„íŠ¸ íŒ¨ë¸Œë¦­</h1>
        <!--ìˆ˜ì •ë‚ ì§œ-->
        <div class="date">
          <strong
            >ë§ˆì§€ë§‰ìˆ˜ì • 2024-02-08 16:43 - ìµœì´ˆì‘ì„±2024-02-08 16:43
          </strong>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ìˆ˜ì •ë‚ ì§œ-->

        <!--ë©”íƒ€ë°ì´í„°-->
        <div class="meta-information">
          <table>
            <tr>
              <td><strong>íƒœê·¸</strong></td>
              <td>
                
                <a href="/tags#aws"><span>aws</span></a>
                
                <a href="/tags#cloud"><span>cloud</span></a>
                
                <a href="/tags#gameDev"><span>gameDev</span></a>
                
                <a href="/tags#minecraft"><span>minecraft</span></a>
                
              </td>
            </tr>
            <tr>
              <td><strong>tl;dr</strong></td>
              <td>awsë¡œ ë§ˆí¬ì„œë²„ ìš´ì˜í•˜ì</td>
            </tr>
          </table>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë©”íƒ€ë°ì´í„°-->

        <!--ë§ˆí¬ë‹¤ìš´ë³€í™˜ëœë‚´ìš© ë³¸ë¬¸-->
        <div class="entry"><h2>ğŸ‘¯â€â™‚ï¸ aws+ë§ˆì¸í¬ë˜í”„íŠ¸ ë°”ë‹ë¼ì„œë²„</h2>

<pre><code class="ad-important language-ad-important">title: ë§ˆì¸í¬ë˜í”„íŠ¸ ì„œë²„ëŸ°ì³ ìŠ¤í™
- ë§ˆí¬ë²„ì „ 1.20.4
- íŒ¨ë¸Œë¦­ ë¡œë” ë²„ì „ 0.15.6
- ì¸ìŠ¤í†¨ëŸ¬ ë²„ì „ 1.0.0
</code></pre>

<h3>ğŸ‘¯â€â™‚ï¸ aws ë¹„ìš©ê³„ì‚°(240208ê¸°ì¤€)</h3>

<ul>
<li><a href="https://calculator.aws/#/createCalculator/ec2-enhancement?nc2=pr">aws pricing calculator</a></li>
</ul>

<table>
<thead>
<tr>
  <th>ap-northeast-2a ë‹¬ì— ëŒ€ëµ 44.79 USD</th>
</tr>
</thead>
<tbody>
<tr>
  <td>ec2<br>- 4GB(t4g.medium, ì˜¨ë””ë§¨ë“œ)</td>
</tr>
<tr>
  <td>EBS ë¸”ë¡ìŠ¤í† ë¦¬ì§€ í¬ê¸°<br>(Storage amount)<br>- 20GB</td>
</tr>
<tr>
  <td>ë°ì´í„° ì „ì†¡<br>ì¸ìŠ¤í„´ìŠ¤ ë°–ìœ¼ë¡œ ë°ì´í„° ë¹¼ë‚¼ ë•Œ ì‚¬ìš©ë˜ëŠ” ê²ƒë„ ë¹„ìš©ë¶€ê³¼ë¨<br>(Data transfer)<br>-outbound data tranfer Internet 100GB</td>
</tr>
</tbody>
</table>

<p>ë§Œì•½ì— ë©”ëª¨ë¦¬í¬ê¸° 8GB ì •ë„ë¡œ ëŠ˜ë¦¬ë©´ 68.08 USD ì˜ˆìƒ</p>

<h3>ğŸ‘¯â€â™‚ï¸ ê¸°ë³¸VPC ìƒì„± ë° ë³´ì•ˆê·¸ë£¹</h3>

<ul>
<li>default vpc ìƒì„±</li>
<li>ì¸ë°”ìš´ë“œ ê·œì¹™; ë“¤ì–´ì˜¤ëŠ” íŒ¨í‚·ì— ëŒ€í•œ ê·œì¹™</li>
<li>ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  íŠ¸ë˜í”½ì´ ì™”ë‹¤ ê°”ë‹¤ í•  ìˆ˜ë¡ ë§Œë“¤ì–´ì ¸ìˆëŠ”ë° ê°€ìƒVMí•˜ë‚˜ë§Œ ì‚¬ìš©í• ê²ƒì´ë¯€ë¡œ zero-trust ê¸°ì¡´ ì‚­ì œ í›„ ì•„ë˜ ê·œì¹™ ì¶”ê°€
<ul>
<li>ì‚¬ìš©ìì§€ì • TCP, 25565, Anywhere IPv4</li>
<li>ì‚¬ìš©ìì§€ì • UDP, 25565, Anywhere IPv4</li>
<li>ì‚¬ìš©ìì§€ì • TCP, 22, Anywhere IPv4</li>
<li>ì‚¬ìš©ìì§€ì • TCP, 443 , Anywhere IPv4</li>
</ul></li>
</ul>

<h3>ğŸ‘¯â€â™‚ï¸ EC2 ë°°í¬</h3>

<ul>
<li>ubuntu 22.04, ARM 64bit, t5g.nano</li>
<li>ë§ˆì¸í¬ë˜í”„íŠ¸ ë©”ëª¨ë¦¬ê°€ êµ‰ì¥íˆ ì¤‘ìš”í•œ ê²Œì„ì´ë¼ì„œ ë°”ë‹ë¼ë¼ë©´ ìµœì†Œ 4GB, ë™ì ‘ì ìˆ˜ì— ë”°ë¼ ë” ëŠ˜ì–´ë‚  ìˆ˜ë„ ìˆë‹¤</li>
<li>pemí‚¤ ìƒì„±(minecraft)</li>
<li>ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì€ ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ ë””í´íŠ¸ VPC + ê¸°ì¡´ ë³´ì•ˆê·¸ë£¹</li>
<li>ìŠ¤í† ë¦¬ì§€ êµ¬ì„±ì€(=ë””ìŠ¤í¬ í• ë‹¹) ì•½ 20GB ì„¤ì • ì´ì¤‘ì— 10GB ë§ˆì¸í¬ë˜í”„íŠ¸ ë‚˜ë¨¸ì§€ëŠ” OS. ì´ì •ë„ë©´ ì¶©ë¶„</li>
</ul>

<h3>ğŸ‘¯â€â™‚ï¸ EC2 ì„œë²„ ì ‘ì† ë° íŒŒì¼ ì „ì†¡</h3>

<ul>
<li>ì•„ê¹Œ ìƒì„±í•œ pemí‚¤ ê¶Œí•œë³€ê²½í•´ì£¼ê³  
<ul>
<li>400ê¶Œí•œë§Œ ì¤Œ (owner)í•œí…Œë§Œ ì½ê¸°ê¶Œí•œ ì£¼ëŠ”ê²ƒ ë¶€ì—¬ ê¸°ë³¸ì ìœ¼ë¡œ rw,r,rì¸ë° ì½ê¸° ê¶Œí•œë§Œ ì£¼ëŠ”ê±¸ë¡œ ìˆ˜ì •í•´ì¤Œ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ permission denyëœ¨ê¸° ë–„ë¬¸</li>
</ul></li>
<li>ì¸ìŠ¤í„´ìŠ¤ public ip í™•ì¸í•˜ê³ </li>
</ul>

<pre><code class="sh language-sh">ssh -i mincraft.pem ubuntu@13.209.7.244
</code></pre>

<h3>ğŸ‘¯â€â™‚ï¸ EC2 ëª¨ë“œì„œë²„(íŒ¨ë¸Œë¦­) ì„œë²„ ì„¤ì¹˜</h3>

<p>ë””ë ‰í† ë¦¬ ìƒì„± í›„ ê¶Œí•œ ìˆ˜ì •</p>

<pre><code>mkdir ~/mincrafe
/home/ubuntu/minecraft

// ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í•´ë‹¹ ê²½ë¡œ ê¶Œí•œ ë³€ê²½
chmod o+w /minecraft
</code></pre>

<pre><code>bash &lt;(curl -s https://raw.githubusercontent.com/KorTechTim/dedicatedserver/main/MineCraft/Minecraft_Linux_Fabric_Ver_1.0.0.0.sh)
</code></pre>

<ul>
<li><a href="https://fabricmc.net/use/server/">ëª¨ë“œ ì‚¬ì´íŠ¸ì—ì„œ ë²„ì „ í™•ì¸</a> í›„ì— cliì—ì„œ ì…ë ¥</li>
</ul>

<pre><code class="ad-important language-ad-important">title: ë§ˆì¸í¬ë˜í”„íŠ¸ ì„œë²„ëŸ°ì³ ìŠ¤í™
- ë§ˆí¬ë²„ì „ 1.20.4
- íŒ¨ë¸Œë¦­ ë¡œë” ë²„ì „ 0.15.6
- ì¸ìŠ¤í†¨ëŸ¬ ë²„ì „ 1.0.0
</code></pre>

<pre><code class="ad-error language-ad-error">title: ìŠ¤í¬ë¦½íŠ¸ 
í˜„ì¬ MOJANG Server ìì²´ì ìœ¼ë¡œ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. MOJANG Jar Serverì™€ í†µì‹ ì´ ì›í™œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì´ ë©”ì‹œì§€ë¥´ ë³´ì‹œ ê²½ìš° ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ í•˜ì„¸ìš” ê¸°ì¡´ ì„¤ì¹˜ íŒŒì¼ì€ ìë™ ì‚­ì œ í•©ë‹ˆë‹¤
6~7ë²ˆ ì •ë„ ì‹¤í–‰í•˜ë©´ ì •ìƒì ì¸ ì„œë²„ì™€ ì—°ê²°ë˜ì–´ ì„¤ì¹˜ ë©ë‹ˆë‹¤. ì„œë²„ê°€ ì •ìƒí™” ë˜ê¸° ì „ê¹Œì§€ ë‹¹ë¶„ê°„ ì´ë ‡ê²Œ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤
</code></pre>

<p>ê·¸ë˜ì„œ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ ë‚˜ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ë‚´ê°€ ì§ì ‘ ì„¤ì¹˜í•¨</p>

<p>https://github.com/KorTechTim/dedicatedserver/blob/main/MineCraft/Minecraft<em>Linux</em>Fabric<em>Ver</em>1.0.0.0.sh</p>

<ul>
<li>step1 íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ</li>
</ul>

<pre><code>cd ~/minecraft
sudo apt update -y &amp;&amp; sudo apt install screen openjdk-18-jdk -y
</code></pre>

<ul>
<li>step2 ì„œë²„ëŸ°ì³ ë‹¤ìš´ë¡œë“œ ë° ì‹¤í–‰<br />
https://fabricmc.net/use/server/ ì—¬ê¸°ì—ì„œ ì§ì ‘ í•˜ë©´ ë˜ëŠ”ë° ë§ˆí¬ë²„ì „1.20.4, íŒ¨ë¸Œë¦­ë¡œë”0.15.6, ì¸ìŠ¤í†¨ëŸ¬ë²„ì „1.0.0 ê¸°ì¤€ </li>
</ul>

<p><code>curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.4/0.15.6/1.0.0/server/jar</code></p>

<pre><code>curl -OJÂ https://meta.fabricmc.net/v2/versions/loader/1.20.4/0.15.6/1.0.0/server/jar

java -jar fabric-server-mc.1.20.4-loader.0.15.6-launcher.1.0.0.jar nogui
</code></pre>

<ul>
<li>step3 EULA<br />
enduser license agreement ë™ì˜í•´ì•¼í•¨</li>
</ul>

<pre><code>cat &lt;&lt;-EOF &gt; ~/minecraft/eula.txt
eula=true
EOF
</code></pre>

<ul>
<li>step4 ë°©í™”ë²½ ì„¤ì •</li>
</ul>

<pre><code>// ë°©í™”ë²½ê°œë°© TCP, UDP 
sudo iptables -I INPUT -p udp --dport 25565 -j ACCEPT
sudo iptables -I INPUT -p tcp --dport 25565 -j ACCEPT
sudo apt-get install netfilter-persistent
sudo netfilter-persistent save
// í˜¹ì€ ì¬ë¶€íŒ…í•˜ê³ ë‚˜ì„œë„ ë°©í™”ë²½í…Œì´ë¸” ë‘ê°œê°€ ì‚¬ë¼ì§€ì§€ì•Šë„ë¡ ì €ì¥ sudo iptables -save
// OSdã…”ì„œ ì´ë¯¸ ì—´ì–´ì¤Œ
</code></pre>

<ul>
<li>step 5 íŒ¨ë¸Œë¦­ api jaríŒŒì¼ ë‹¤ìš´ë¡œë“œ í›„ì— ì¸ìŠ¤í„´ìŠ¤ë¡œ ì „ì†¡ 
<ul>
<li>í¬ì§€ì„œë²„ì™€ ë‹¤ë¥´ê²Œ íŒ¨ë¸Œë¦­ API ì¶”ê°€ë¡œ ë‹¤ìš´ë¡œë“œ í•„ìš”í•œë° ì´ë•Œ ë²„ë„ˆ 1.20.4 ë¦´ë¦¬ì¦ˆ ë²„ì „ ë‹¤ìš´ë¡œë“œ https://www.curseforge.com/minecraft/mc-mods/fabric-api/files/5072340 í¬ì§€ëª¨ë“œì™€ ê°€ì¥ í° ì°¨ì´ì´ë‹¤</li>
</ul></li>
</ul>

<pre><code>
// ì „ì†¡ 
scp -i minecraft.pem fabric-api-0.95.4+1.20.4.jar ubuntu@13.209.7.244:/home/ubuntu/minecraft/mods

scp -i ~/.ssh/id_rsa fabric-api-0.95.4+1.20.4.jar crispylegs1921@34.47.88.189:/home/crispylegs1921/minecraft
</code></pre>

<ul>
<li>step6 ìµœì´ˆ ì„œë²„ ì‹¤í–‰!</li>
</ul>

<pre><code>// ì‹¤í–‰
java -Xms2G -Xmx2G -jarÂ fabric-server-mc.1.20.4-loader.0.15.6-launcher.1.0.0.jarÂ nogui
</code></pre>

<p>ìµœì´ˆ ì‹¤í–‰í•˜ê³ ë‚˜ì„œ </p>

<pre><code>/ubuntu/minecraft

â”œâ”€â”€ banned-ips.json
â”œâ”€â”€ banned-players.json
â”œâ”€â”€ eula.txt
â”œâ”€â”€ fabric-api-0.95.4+1.20.4.jar
â”œâ”€â”€ fabric-server-mc.1.20.4-loader.0.15.6-launcher.1.0.0.jar
â”œâ”€â”€ libraries
â”œâ”€â”€ logs
â”œâ”€â”€ mods
â”œâ”€â”€ ops.json
â”œâ”€â”€ server.properties
â”œâ”€â”€ usercache.json
â”œâ”€â”€ versions
â”œâ”€â”€ whitelist.json
â””â”€â”€ world
</code></pre>

<p>worldë¼ëŠ” ë””ë ‰í† ë¦¬ í•˜ë‚˜ê°€ ìƒê¸°ëŠ”ë° ì €ê¸°ê°€ ì›”ë“œ ë§µë°ì´í„°, í•˜ë‚˜ì— í•˜ë‚˜ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ ì›”ë“œ ë„£ê³  ì‹¶ë‹¤ë©´ ì´ í´ë”ì•ˆì— ìˆëŠ” ë‚´ìš© ë‹¤ ì§€ìš°ê³  ì›”ë“œë§µ ë””ë ‰í† ë¦¬ì—ë‹¤ê°€ ì—…ë¡œë“œí•˜ë©´ ì ìš©ë¨!</p>

<h3>ğŸ‘¯â€â™‚ï¸ ëª¨ë“œ ì˜¬ë¦¬ê¸°</h3>

<p>í¬ì§€ or fabric?<br />
í•˜ë‚˜ì˜ ëª¨ë“œëŠ” í•˜ë‚˜ë§Œ,</p>

<p>https://www.curseforge.com/minecraft/mc-mods/jei/files/all?page=1&amp;pageSize=20&amp;version=1.20.4&amp;gameVersionTypeId=4</p>

<pre><code>scp -i minecraft.pem jei-1.20.4-fabric-17.3.0.48.jar ubuntu@13.209.7.244:/home/ubuntu/minecraft/mods
</code></pre>

<pre><code>java -Xms2G -Xmx2G -jarÂ fabric-server-mc.1.20.4-loader.0.15.6-launcher.1.0.0.jarÂ nogui
</code></pre>

<p><img src="https://i.imgur.com/LjhMiab.png" alt="" /></p>

<p><img src="https://i.imgur.com/uRLnxz3.jpg" alt="" /><br />
<img src="https://i.imgur.com/shR9hl3.png" alt="" /></p>

<p>ë§ˆì¸í¬ë˜í”„íŠ¸ ì„œë²„ í™•ì¸</p>

<pre><code class="ad-tip language-ad-tip">title: ubuntu22.04 í¬íŠ¸ê°œë°©
- sudo iptables _I INPUT -p udp --dport 25565 -j ACCEPT
- 
</code></pre>

<h2>ğŸ‘¯â€â™‚ï¸ Ref</h2>

<ul>
<li><a href="https://www.youtube.com/watch?v=LBj14CoFwyQ">ì˜ìƒ-í…Œí¬íŒ€-AWSì— ë§ˆí¬ì„œë²„ë°°í¬-20230419</a></li>
</ul>
</div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ë§ˆí¬ë‹¤ìš´ë³€í™˜ëœë‚´ìš© ë³¸ë¬¸-->

        <!--ëŒ“ê¸€-->
        <hr />
        <div>
          <script
            src="https://utteranc.es/client.js"
            repo="icehongssii/icehongssii.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async
          ></script>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ëŒ“ê¸€-->

        <!--í™ì”¨ë°”ë‹¥-->
        <div>
          <center>
            <img src="/static/assets/icepersimmon.png" class="my-icon" />
          </center>
        </div>
        <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---í™ì”¨ë°”ë‹¥-->
      </article>
      <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---ë³¸ë¬¸article-->
    </div>
    <!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--ìµœìƒë‹¨ container-->

    <footer>
      <div class="container">
        <p><a href="mailto:icehongssii@gmail.com">icehongssii@gmail.com</a></p>
        <p><a href="https://github.com/icehongssii">GitHub @icehongssii</a></p>
      </div>
    </footer>
    <!-- Google Analytics -->
    <!-- End Google Analytics -->
  </body>
</html>